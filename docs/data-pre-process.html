<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Sleep quality analysis</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This is a draft of the work done in the project of sleep quality through sleep hygiene factors.">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="Sleep quality analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a draft of the work done in the project of sleep quality through sleep hygiene factors." />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Sleep quality analysis" />
  
  <meta name="twitter:description" content="This is a draft of the work done in the project of sleep quality through sleep hygiene factors." />
  

<meta name="author" content="Arturo Laflor">


<meta name="date" content="2017-05-10">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="data-adquisition.html">
<link rel="next" href="feature-selection.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />










<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Notes of feature selection</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Description of the work</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="data-adquisition.html"><a href="data-adquisition.html"><i class="fa fa-check"></i><b>3</b> <a href="data-adquisition.html#data-adquisition">Data adquisition</a></a><ul>
<li class="chapter" data-level="3.1" data-path="data-adquisition.html"><a href="data-adquisition.html#questionnaire"><i class="fa fa-check"></i><b>3.1</b> Questionnaire</a><ul>
<li class="chapter" data-level="3.1.1" data-path="data-adquisition.html"><a href="data-adquisition.html#demographic-emotional-and-health-data"><i class="fa fa-check"></i><b>3.1.1</b> Demographic emotional and health data</a></li>
<li class="chapter" data-level="3.1.2" data-path="data-adquisition.html"><a href="data-adquisition.html#quality-of-sleep"><i class="fa fa-check"></i><b>3.1.2</b> Quality of Sleep</a></li>
<li class="chapter" data-level="3.1.3" data-path="data-adquisition.html"><a href="data-adquisition.html#sleep-hygiene-index"><i class="fa fa-check"></i><b>3.1.3</b> Sleep Hygiene Index</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="data-adquisition.html"><a href="data-adquisition.html#validity-and-reliability"><i class="fa fa-check"></i><b>3.2</b> Validity and reliability</a></li>
<li class="chapter" data-level="3.3" data-path="data-adquisition.html"><a href="data-adquisition.html#dataset"><i class="fa fa-check"></i><b>3.3</b> Dataset</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-pre-process.html"><a href="data-pre-process.html"><i class="fa fa-check"></i><b>4</b> <a href="#data-preprocess">Data pre-process</a></a><ul>
<li class="chapter" data-level="4.1" data-path="data-pre-process.html"><a href="data-pre-process.html#estructuration-and-validation-data-process"><i class="fa fa-check"></i><b>4.1</b> Estructuration and validation data process</a></li>
<li class="chapter" data-level="4.2" data-path="data-pre-process.html"><a href="data-pre-process.html#data-quality-report"><i class="fa fa-check"></i><b>4.2</b> Data quality report</a><ul>
<li class="chapter" data-level="4.2.1" data-path="data-pre-process.html"><a href="data-pre-process.html#continuous-features"><i class="fa fa-check"></i><b>4.2.1</b> Continuous features</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="data-pre-process.html"><a href="data-pre-process.html#categorical-features-for-demographics-data"><i class="fa fa-check"></i><b>4.3</b> Categorical Features for demographics data</a><ul>
<li class="chapter" data-level="4.3.1" data-path="data-pre-process.html"><a href="data-pre-process.html#categorical-features-for-slepp-hygiene"><i class="fa fa-check"></i><b>4.3.1</b> Categorical features for Slepp hygiene</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="data-pre-process.html"><a href="data-pre-process.html#following-the-quality-plan-to-attend-issues"><i class="fa fa-check"></i><b>4.4</b> Following the quality plan to attend issues</a></li>
<li class="chapter" data-level="4.5" data-path="data-pre-process.html"><a href="data-pre-process.html#imputation-of-missing-values-in-sh-and-sq-features"><i class="fa fa-check"></i><b>4.5</b> Imputation of missing values in SH and SQ features</a></li>
<li class="chapter" data-level="4.6" data-path="data-pre-process.html"><a href="data-pre-process.html#final-results"><i class="fa fa-check"></i><b>4.6</b> Final results</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="feature-selection.html"><a href="feature-selection.html"><i class="fa fa-check"></i><b>5</b> <a href="feature-selection.html#feature-selection">Feature selection</a></a><ul>
<li class="chapter" data-level="5.1" data-path="feature-selection.html"><a href="feature-selection.html#feature-selection-models"><i class="fa fa-check"></i><b>5.1</b> <a href="#feature-selection-model">Feature selection models</a></a></li>
<li class="chapter" data-level="5.2" data-path="feature-selection.html"><a href="feature-selection.html#feature-selection-process"><i class="fa fa-check"></i><b>5.2</b> Feature selection process</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="evaluation-of-efficiency.html"><a href="evaluation-of-efficiency.html"><i class="fa fa-check"></i><b>6</b> <a href="evaluation-of-efficiency.html#evaluation-of-efficiency">Evaluation of Efficiency</a></a><ul>
<li class="chapter" data-level="6.1" data-path="evaluation-of-efficiency.html"><a href="evaluation-of-efficiency.html#neural-networks-results"><i class="fa fa-check"></i><b>6.1</b> <a href="#NN-results">Neural Networks Results</a></a></li>
<li class="chapter" data-level="6.2" data-path="evaluation-of-efficiency.html"><a href="evaluation-of-efficiency.html#logistic-regression-results"><i class="fa fa-check"></i><b>6.2</b> <a href="#LR-results">Logistic Regression Results</a></a></li>
<li class="chapter" data-level="6.3" data-path="evaluation-of-efficiency.html"><a href="evaluation-of-efficiency.html#support-vector-machine-results"><i class="fa fa-check"></i><b>6.3</b> <a href="#SVM-results">Support Vector Machine Results</a></a></li>
<li class="chapter" data-level="6.4" data-path="evaluation-of-efficiency.html"><a href="evaluation-of-efficiency.html#comparing-the-results-of-the-three-algorithms-and-their-variants"><i class="fa fa-check"></i><b>6.4</b> Comparing the results of the three algorithms and their variants</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="chapter" data-level="7" data-path="final-words.html"><a href="final-words.html"><i class="fa fa-check"></i><b>7</b> Final Words</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Sleep quality analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-pre-process" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> <a href="#data-preprocess">Data pre-process</a></h1>
<div id="estructuration-and-validation-data-process" class="section level2">
<h2><span class="header-section-number">4.1</span> Estructuration and validation data process</h2>
<p>Before to generate the quality report of the data, the data are loaded and passed for a process of validation and restructuration. This process includes the renaming of the columns and data validation for columns containing information of time and age. Additionally, the values for the responses of SHI and PSQI questionnaires was recodified from original responses (‘Nunca’,‘Casi nunca’,‘Algunas veces’,‘Frecuentemente’,‘Siempre’) to data that can be used to numerical and algorithmical analysis (‘0’,‘1’,‘2’,‘3’,‘4’).</p>
<p>The resulting dataset has 48 columns, distributed as the <a href="#tab:distribution-of-features-by-type"><strong>??</strong></a> shows:</p>

<p>The quality analysis of data was based in the recommendations of <span class="citation">(Kelleher, Namee, and D’Arcy <a href="#ref-Kelleher2015">2015</a>)</span>. The resulting dataset will allow runs the algorithms to select the relevant features to generate the model. The analysis of the data quality includes the treadment of missing values, outliers and cardinality as well as correction of some possible bugs in the scripts that do the process of restructuration and validation of the dataset. The data quality analysis begins with a report of quality of continouos and categorical features. For continuous variables ten metrics were analyzed: quantity, missing values, cardinality, minimum value, first quartile, median, third quartile, maximum value, mean, and standard deviation. For categorical variables, nine metrics were analyzed: quantity, missing values, cardinality, mode, mode frequency, mode percent, second mode, second mode frequency and second mode percent. Before to do this report, a look at the complete dataset allowed to identify three records that contains no data for any feature. These records were deleted to avoid noisy information in the quality analysis.</p>
</div>
<div id="data-quality-report" class="section level2">
<h2><span class="header-section-number">4.2</span> Data quality report</h2>
<p>The data quality report was performed using two scripts, one for continuous and one for categorical features, so, the features were grouped by type to do the analysis.</p>
<div id="continuous-features" class="section level3">
<h3><span class="header-section-number">4.2.1</span> Continuous features</h3>
<p>The dataset contains five continuous features, one for demographic data (DD1=AGE) and four features that measure the sleep duration (SQ1=“Time to go to bed”, SQ2=“Latency of sleep”, SQ3=“Time to wake up”, SQ4=“Period of time between going to bed and waking up”).</p>

<p>The table <a href="#tab:data-quality-report-of-continuous-features"><strong>??</strong></a> shows some irregularities in continuous variables, as we can see, a negative value is the minimum value in the SQ4 variable; this variable represents the <em>Period of time between going to bed and waking up</em>, thus no negative value must be enter in this field, likewise, it appear a <span class="math inline">\(0.0\)</span> value as the minimun value in the SQ1 variable, which is wrong because this is the time that respondents said go to bed, and, in this case, <span class="math inline">\(0.00\)</span> is not a valid answer, in any case, an appropriate answer would be <span class="math inline">\(12.00\)</span>, referring to midnight. On the other hand, the variable SQ2, has a large standard deviation (<span class="math inline">\(\sigma=11.91\)</span>), since the variable represents the minutes that person takes to fall asleep in minutes (<span class="math inline">\(\mu\simeq 15\)</span>).</p>
<p>No one of these features have a great quantity of missing values, DD1 is the variable with most of them, however the missing values represents only the <span class="math inline">\(0.018 \%\)</span> of the data, whis is not significant. If we assume that each record that contains a missing value is a different row, we have <span class="math inline">\(12\)</span> records, which represents the <span class="math inline">\(0.036\%\)</span>. As this percentage is small, and there are not in our hands, previous works describing the tendency of the data, these records with missing values could be deleted.</p>
<p>These continuos variables shows good cardinality, even though the ratio between the cardinality and number of records is not close to one. The nature of the data justifies this fact, because although the features are continuous and in theory they could take a large number of values, they take a small range of values, for instance, the variable SQ1 take an small range of values because the people answer commonly to this kind of question with onclock time, it means, people ask that they go to bed at <span class="math inline">\(9:00\)</span>, <span class="math inline">\(10:30\)</span>, <span class="math inline">\(10:45\)</span> or <span class="math inline">\(11:00\)</span>, even when they, actually were to bed at <span class="math inline">\(9:03\)</span>, or <span class="math inline">\(10:33\)</span> referring to the first to examples. The other variables have similar nature, thus the conclusion that cardinality is good for this variables, where the smallest cardinality was 15.</p>
<p>Additionaly to previous analysis, histograms and boxplot were generated to observe the behaviour of the data.</p>
<div class="figure" style="text-align: center"><span id="fig:hb-of-cf"></span>
<img src="images/hist-boxplots-continuous-variables.png" alt="Histograms and boxplots of the continuous features" width="90%" />
<p class="caption">
Figure 4.1: Histograms and boxplots of the continuous features
</p>
</div>
<p>The plots in the Fig. <a href="data-pre-process.html#fig:hb-of-cf">4.1</a> shows that the continuous features have outliers which should be analyzed to include/exclude from de dataset before of the training of the model to obtain better results. These variables do not intervene directly in the generation of the model, the model is generated from the SH features, however, these outliers could be indicators of some disorder of sleep in the respondent, thus the analysis must be performed.</p>
<p>The Table <a href="#tab-data-quality-plan-continuous"><strong>??</strong></a> summarizes the data quality issues in continuous features and the potential strategies to attend them.</p>

</div>
</div>
<div id="categorical-features-for-demographics-data" class="section level2">
<h2><span class="header-section-number">4.3</span> Categorical Features for demographics data</h2>
<p>The categorical features were divided in two groups, the demographic features are in the first group and the features containing all the information over the sleep hygiene are in other group.</p>

<p>The table <a href="#Report-of-quality-of-the-categorical-demographic-features"><strong>??</strong></a> shows only one irregularity in this set of variables, the variable DD6 has the hihest mode posible (<span class="math inline">\(100\%\)</span>), if data are right, all respondents are living in free union status which is very doubtful taken in account the population were the questionnaire was applied. There are less missing values than in the continuous features, so, it is possible to think in eliminate the records. The cardinality is not a problem in this set of features (except for the variable DD6 as commented above), since all posibilities have representation. In the two cases (features DD7 and DD8) where the mode capture a high percentage of the data, the information is good for this research. DD7 refers to people who suffer some chronic disease, the best answer to this work is “Any” because the intention is to work with healthy people, likewise in the DD8 variable that ask to the people if they are in some crisis that disrups their sleep, the best answer to this work is “No”, fortunatelly, this is the mode.</p>
<div id="categorical-features-for-slepp-hygiene" class="section level3">
<h3><span class="header-section-number">4.3.1</span> Categorical features for Slepp hygiene</h3>

<p>In Table <a href="#tab:report-of-quality-of-the-sleep-hygiene-features"><strong>??</strong></a>, the cardinality shows that all possible value <span class="math inline">\([0-5]\)</span> for each answer is represented in the data, except by the SH9 variable where one of the options was not selected as answer of the respondents. It is good for the quality of data, however, there are two variables with high mode. The 81.66 % of the respondents, answered <em>never (<span class="math inline">\(0\)</span>)</em> to the question SH9 <em>“I use alcohol within 4 hours of going to bed or after going to bed.”</em>, while the 94.38% answered <em>never (<span class="math inline">\(0\)</span>)</em> to the question SH8 <em>“I use tobacco within 4 hours of going to bed or after going to bed.”</em>, which means that there are few variability in the data in these two variables. It is possible to dispense with these data for the analysis, since they do not contribute much information to the studied phenomenon for this population. The other 19 categorical variables for SHI, have a cardinality of 5, and the higher mode is placed in SH10 <em>“I use cafeine within 4 hours of going to bed or after going to bed.”</em> were a <span class="math inline">\(66.98\%\)</span> of the respondents answered <em>never (<span class="math inline">\(0\)</span>)</em> for this question. This means that the answers have a good range of variability to be analized, and to participate as candidate of be selected as feature to training the model.</p>
<p>This set of data has small number of missing values, however, in this case it is possible to impute data due to the features together represents a behavior of the person. Algorithms as KNN or a multiple logistic regression can performs data imputation to have a good approximation to the true data. The table <a href="#Tab:Potential-strategies-to-attend-SH-features"><strong>??</strong></a> present the summary of the issues and potential strategies for the SH features.</p>

</div>
</div>
<div id="following-the-quality-plan-to-attend-issues" class="section level2">
<h2><span class="header-section-number">4.4</span> Following the quality plan to attend issues</h2>
<p>The first step in order to attend the issues was the analysis of the code that validates the raw data, to avoid the suspicious of bugs that could be generate wrong data. After the code is validated, the errors in data can be adjudicate to human capture.</p>
<p>After the analysis of scripts, tree bugs were fixed. The first bug is related with the reason that the civil status have a mode equivalent to the number of records in the dataset. The bug was generated by omittining a condition in the evaluation of a missing value in the field in the same line of code that attempt to standardize the results so that all the sentences were in the same style of case. In the case of status civil feature, some answers are wroten as <em>‘Unión libre’</em>, while other was wroten as <em>‘Unión Libre’</em>.</p>
<p>The line with the bug:</p>
<p><code>ifelse(is.na(dataSet$DD6),dataSet$DD6&lt;-NA,dataSet$DD6&lt;-&quot;Unión Libre&quot;)</code></p>
<p>The line after being fixed:</p>
<p><code>ifelse(is.na(dataSet$DD6),dataSet$DD6&lt;-NA,dataSet[dataSet$DD6=='Unión libre',7]&lt;-&quot;Unión Libre&quot;)</code></p>
<p>The second bug was identified in the script that calculates the time of sleep depending of the three variables, <em>‘Time to go the bed’</em>, <em>‘Time to wake up’</em>, <em>‘Time to fall asleep’</em>, in this case, the condition for the calculation does not contemplate that a person could say that he went to bed and got up twelve hours apart. The problem was solved by modifying the conditional operator of <span class="math inline">\(&gt;\)</span> to <span class="math inline">\(\geq\)</span>.</p>
<p>Code with bug:</p>
<pre><code>  if(HD&gt;HL){
    HD&lt;-HD-12.00
  }
  SE&lt;-abs(HL-HD)
  SE&lt;-SE-round(minutos/60,digits = 2)</code></pre>
<p>Code after being fixed:</p>
<pre><code>  if(HD&gt;=HL){
    HD&lt;-HD-12.00
  }
  SE&lt;-abs(HL-HD)
  SE&lt;-SE-round(minutos/60,digits = 2)</code></pre>
<p>The third bug was corrected by adding two condition per values before ignored. Values in the range of <span class="math inline">\((-\infty,0)\)</span> must be taken a NA value, and values in the range of <span class="math inline">\([0,1)\)</span> must be transformed by adding 12.00.</p>
<p>The lines that were added are:</p>
<pre><code>  if(!is.na(s3)){
    if(as.numeric(s3)&lt;0){
      s3&lt;-NA
    }else if(as.numeric(s3)&lt;1){
      s3=as.numeric(s3)+12
    }else{
      s3&lt;-as.numeric(s3)
    }
  }</code></pre>
<p>The quality reports generated after apply this corrections, show a difference in the identified features with possible issues due to a wrong treatment.</p>


<p>The minimum value in SQ1 is not zero as before, now it is one, which is reasonable; the variable SQ4 do not have a negative value as minimum value. The present also is very small (<span class="math inline">\(0.12\)</span>) and was verified in the raw data, the conclusion is that it was a wrong user capture, the respondent said that he/she go to bed at 12:30 and wakes up at 12:42 every day. On the other hand, the civil status (DD6) has a congruent value for the sample of study, the <span class="math inline">\(53.55\%\)</span> of the respondents said be married and <span class="math inline">\(35.21\%\)</span> be single, in contrast with previous data where it was reported that <span class="math inline">\(100\%\)</span> of the people had a ‘Free union’ civil status.</p>
<p>The second step was to work with the missing values in the continuous features and missing values in the categorical demographic features. Records containing missing values were eliminated as proposed in the data qulaity plan described in Table <a href="#tab-data-quality-plan-continuous"><strong>??</strong></a>. The same apply to the categorical demographic features.</p>
<p>After applying the process to delete records with missing values in continuous and categorical demographics features the dataset reducts its dimentionality from 338 to 326, which represents a reduction of 0.036% of the original data.</p>
<p>In the third step of this stage the atypical values are identified to exclude them from the dataset that will serve as a source of the training of the model. The process excludes records that exceed three standard deviations in the variable SQ4 (‘time the person spent asleep’). This variable is of high impact on the quality of sleep and is not considered within the factors of sleep hygiene. Another indicator of a possible sleep disorder is the latency, latency is the time between a person go to bed and he/she fall asleep. The records containing outliers in this feature, also were eliminated.</p>
<p>After delete records with outliers n continuous variables the dataset reducts its dimentionality from 338 to 306, which represents a reduction of 0.095% of the original data.</p>
<p>The Fig. <a href="data-pre-process.html#fig:hb-of-cf-after-deloutliers">4.2</a>, shows the histograms and boxplots after eliminated records with outliers in SQ2 and SQ4, boxplots in these two variables make it clear that do not outliers were found for these features. DD1 has no outliers too, even though maintaining the original records.</p>
<div class="figure" style="text-align: center"><span id="fig:hb-of-cf-after-deloutliers"></span>
<img src="images/hist-boxplots-continuous-variables-after-delete-outliers.png" alt="Histograms and boxplots of the continuous features after delete outliers" width="90%" />
<p class="caption">
Figure 4.2: Histograms and boxplots of the continuous features after delete outliers
</p>
</div>
</div>
<div id="imputation-of-missing-values-in-sh-and-sq-features" class="section level2">
<h2><span class="header-section-number">4.5</span> Imputation of missing values in SH and SQ features</h2>
<p>The process of imputation was performed using <em>mice and VIM package</em> <span class="citation">(van Buuren and Groothuis-Oudshoorn <a href="#ref-mice2011">2011</a>,<span class="citation">Kowarik and Templ (<a href="#ref-VIM2016">2016</a>)</span>)</span>. the process begins with the analysis of missing values in the variables involved indirectly or directly in the generation of the model. The table <a href="#tab-report-of-missing-value-in-SHSQ"><strong>??</strong></a> shows that the dataset has few missing values (Not all columns in the table are included for lack of space, however, all columns that were omitted do not have missing values). It has <span class="math inline">\(297\)</span> complete records, a record with a missing value in the column SQ5a, one more with a missing value in the column SQ5c, an so on. The dataset contains eight records with a total of nine missing values in eight variables.</p>

<p>A summary of the missing values its presented in the table <a href="#summary-of-missing-values-SH"><strong>??</strong></a></p>

<p>The figure <a href="data-pre-process.html#fig:f-pattern-of-missing-data">4.3</a> shows in the left side, an histogram of the features with missing data depicting the influence of missing values in the dataset. The right side shows the pattern of missing values in the dataset, it concentrates all complete cases in the botton of the graph, which reach a 97.06% of the dataset. The remaining of the figure shows the features with missing data, placing in the right side the corresponding percentages per variable.</p>
<div class="figure" style="text-align: center"><span id="fig:f-pattern-of-missing-data"></span>
<img src="images/pattern-of-missing-data.png" alt="Pattern of missing values" width="90%" />
<p class="caption">
Figure 4.3: Pattern of missing values
</p>
</div>
<p>The <em>mice</em> function was executed to impute data in the records containing missing values, the process was performed in a temporal dataset comformed only for those features with missing data. The <em>mice</em> function perform data imputation using <em>polytomous regression imputataion</em> for unordered categorical data with more of two leves, which is the case. The multinomial logistic regression was applied with 50 iterations and five datasets to obtain a table of results that allow to choose the best option to do the imputation.</p>

<p>The DS4 is the dataset most consistent with the proposals in the other datasets, it matches with at least one dataset of the remaining four, in seven of the rows. The DS4 was chosen to impute data in these variables.</p>

<p>The table <a href="#tab-report-of-missingvalues-after-imputation"><strong>??</strong></a>, shows that no missing value are in the dataset after the imputation, now the new dataset of variables with data imputation will be merged with the others features of the original dataset in a new dataset to be saved and used in advanced to train the model.</p>
</div>
<div id="final-results" class="section level2">
<h2><span class="header-section-number">4.6</span> Final results</h2>
<p>The following tables show the report of quality in the dataset after apply deletion of missing values, exclusion of records containing outliers and imputation of missing values in variables that are closely related with the training of the model.</p>

<p>With exception of high percentages in mode of the SH8 and SH9, all other features present a good behavior in the dataset. The issue of SH8 and SH9 will be attended in a future stage of the work, the process of feature selection will take care of this.</p>
<p>The last process to be carried out in this stage is the calculation of SHI and PSQI scores through the scales provided by the respective questionnaires.</p>
<p>The final dataset to be used in the process of feature selection is a 306 x 62 dataset containing 10 continuous features, 51 categorical features and one ID feature. To more detail of this dataset, see please the tables at the end of the previous section.</p>

</div>
</div>
<h3>References</h3>
<div id="refs" class="references">
<div id="ref-Kelleher2015">
<p>Kelleher, John D., Brian Mac Namee, and Aoife D’Arcy. 2015. <em>Fundamentals of Machine Learning for Predictive Data Analytics: algorithms, worked examples, and case studies</em>. 1. London: The MIT Press.</p>
</div>
<div id="ref-mice2011">
<p>van Buuren, Stef, and Karin Groothuis-Oudshoorn. 2011. “mice: Multivariate Imputation by Chained Equations in R.” <em>Journal of Statistical Software</em> 45 (3): 1–67. <a href="http://www.jstatsoft.org/v45/i03/" class="uri">http://www.jstatsoft.org/v45/i03/</a>.</p>
</div>
<div id="ref-VIM2016">
<p>Kowarik, Alexander, and Matthias Templ. 2016. “Imputation with the R Package VIM.” <em>Journal of Statistical Software</em> 74 (7): 1–16. doi:<a href="https://doi.org/10.18637/jss.v074.i07">10.18637/jss.v074.i07</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-adquisition.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="feature-selection.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/03-data-preprocess.Rmd",
"text": "Edit"
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    if (location.protocol !== "file:" && /^https?:/.test(script.src))
      script.src  = script.src.replace(/^https?:/, '');
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
